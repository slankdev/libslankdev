
#include <stdlib.h>
#include <slankdev/socketfd.h>
#include <slankdev/hexdump.h>
const char* ifname = "lo";


uint8_t arp_raw[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x08, 0x06, 0x00, 0x01,
    0x08, 0x00, 0x06, 0x04, 0x00, 0x01, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00,
    0x00, 0x00 };


int main(int argc, char** argv)
{
    slankdev::socketfd fd;
    fd.open_afpacket(ifname);
    slankdev::hexdump("Sending", arp_raw, sizeof(arp_raw));

    for (size_t i=0; ; i++) {
      fd.write(arp_raw, sizeof(arp_raw));
      printf("send\n");
      sleep(1);
    }
}

